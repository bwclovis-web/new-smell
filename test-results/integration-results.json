{"numTotalTestSuites":30,"numPassedTestSuites":18,"numFailedTestSuites":12,"numPendingTestSuites":0,"numTotalTests":44,"numPassedTests":38,"numFailedTests":6,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1761580173456,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Home Route Integration Tests","Loader"],"fullName":"Home Route Integration Tests Loader should load features successfully","status":"passed","title":"should load features successfully","duration":6.742600000000039,"failureMessages":[],"meta":{}},{"ancestorTitles":["Home Route Integration Tests","Loader"],"fullName":"Home Route Integration Tests Loader should handle empty features list","status":"passed","title":"should handle empty features list","duration":0.8337999999998829,"failureMessages":[],"meta":{}},{"ancestorTitles":["Home Route Integration Tests","Loader"],"fullName":"Home Route Integration Tests Loader should handle errors gracefully","status":"passed","title":"should handle errors gracefully","duration":3.031499999999596,"failureMessages":[],"meta":{}},{"ancestorTitles":["Home Route Integration Tests","Loader"],"fullName":"Home Route Integration Tests Loader should call getAllFeatures once per load","status":"passed","title":"should call getAllFeatures once per load","duration":0.7015000000001237,"failureMessages":[],"meta":{}},{"ancestorTitles":["Home Route Integration Tests","Error Handling"],"fullName":"Home Route Integration Tests Error Handling should propagate network errors","status":"passed","title":"should propagate network errors","duration":0.9562000000000808,"failureMessages":[],"meta":{}},{"ancestorTitles":["Home Route Integration Tests","Error Handling"],"fullName":"Home Route Integration Tests Error Handling should propagate database connection errors","status":"passed","title":"should propagate database connection errors","duration":0.9209000000000742,"failureMessages":[],"meta":{}}],"startTime":1761580176011,"endTime":1761580176024.921,"status":"passed","message":"","name":"C:/Repos/new-smell/test/integration/routes/home.test.ts"},{"assertionResults":[{"ancestorTitles":["Perfume Route Integration Tests","Loader"],"fullName":"Perfume Route Integration Tests Loader should load perfume data successfully for unauthenticated user","status":"passed","title":"should load perfume data successfully for unauthenticated user","duration":3.6864000000005035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Route Integration Tests","Loader"],"fullName":"Perfume Route Integration Tests Loader should throw error when perfume slug is missing","status":"passed","title":"should throw error when perfume slug is missing","duration":3.033200000000761,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Route Integration Tests","Loader"],"fullName":"Perfume Route Integration Tests Loader should throw 404 when perfume not found","status":"failed","title":"should throw 404 when perfume not found","duration":14.129500000000007,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'indexOf')\n    at Object.compatibleMessage (file:///C:/Repos/new-smell/node_modules/chai/chai.js:88:29)\n    at Assertion.assertThrows (file:///C:/Repos/new-smell/node_modules/chai/chai.js:2801:51)\n    at Assertion.methodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1618:25)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1079:12)\n    at Assertion.overwritingMethodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1670:33)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1411:16)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1022:14)\n    at Assertion.methodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1618:25)\n    at file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1630:20\n    at C:\\Repos\\new-smell\\test\\integration\\routes\\perfume.test.ts:113:7"],"meta":{}},{"ancestorTitles":["Perfume Route Integration Tests","Loader"],"fullName":"Perfume Route Integration Tests Loader should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":2.9273999999995794,"failureMessages":[],"meta":{}}],"startTime":1761580180198,"endTime":1761580180221.9275,"status":"failed","message":"","name":"C:/Repos/new-smell/test/integration/routes/perfume.test.ts"},{"assertionResults":[{"ancestorTitles":["The Vault Route Integration Tests","Loader"],"fullName":"The Vault Route Integration Tests Loader should return empty object","status":"passed","title":"should return empty object","duration":2.148099999999431,"failureMessages":[],"meta":{}},{"ancestorTitles":["The Vault Route Integration Tests","Loader"],"fullName":"The Vault Route Integration Tests Loader should be callable multiple times","status":"passed","title":"should be callable multiple times","duration":2.0172999999995227,"failureMessages":[],"meta":{}},{"ancestorTitles":["The Vault Route Integration Tests","Loader"],"fullName":"The Vault Route Integration Tests Loader should not throw errors","status":"passed","title":"should not throw errors","duration":1.7818999999999505,"failureMessages":[],"meta":{}}],"startTime":1761580180251,"endTime":1761580180257.782,"status":"passed","message":"","name":"C:/Repos/new-smell/test/integration/routes/the-vault.test.ts"},{"assertionResults":[{"ancestorTitles":["Admin Users Route Integration Tests","Loader - Authorization"],"fullName":"Admin Users Route Integration Tests Loader - Authorization should allow admin users to access users list","status":"passed","title":"should allow admin users to access users list","duration":2.9661999999998443,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Loader - Authorization"],"fullName":"Admin Users Route Integration Tests Loader - Authorization should deny access to non-admin users","status":"failed","title":"should deny access to non-admin users","duration":5.0286000000005515,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'indexOf')\n    at Object.compatibleMessage (file:///C:/Repos/new-smell/node_modules/chai/chai.js:88:29)\n    at Assertion.assertThrows (file:///C:/Repos/new-smell/node_modules/chai/chai.js:2801:51)\n    at Assertion.methodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1618:25)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1079:12)\n    at Assertion.overwritingMethodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1670:33)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1411:16)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1022:14)\n    at Assertion.methodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1618:25)\n    at file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1630:20\n    at C:\\Repos\\new-smell\\test\\integration\\routes\\admin\\users.test.ts:75:7"],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Loader - Authorization"],"fullName":"Admin Users Route Integration Tests Loader - Authorization should deny access to unauthenticated users","status":"failed","title":"should deny access to unauthenticated users","duration":5.062200000000303,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'indexOf')\n    at Object.compatibleMessage (file:///C:/Repos/new-smell/node_modules/chai/chai.js:88:29)\n    at Assertion.assertThrows (file:///C:/Repos/new-smell/node_modules/chai/chai.js:2801:51)\n    at Assertion.methodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1618:25)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1079:12)\n    at Assertion.overwritingMethodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1670:33)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1411:16)\n    at Assertion.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1022:14)\n    at Assertion.methodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1618:25)\n    at file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1630:20\n    at C:\\Repos\\new-smell\\test\\integration\\routes\\admin\\users.test.ts:89:7"],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Loader - Authorization"],"fullName":"Admin Users Route Integration Tests Loader - Authorization should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":4.0164999999997235,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Action - User Management"],"fullName":"Admin Users Route Integration Tests Action - User Management should allow admin to delete user","status":"passed","title":"should allow admin to delete user","duration":11.62249999999949,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Action - User Management"],"fullName":"Admin Users Route Integration Tests Action - User Management should allow admin to soft delete user","status":"passed","title":"should allow admin to soft delete user","duration":2.7770000000000437,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Action - User Management"],"fullName":"Admin Users Route Integration Tests Action - User Management should deny action to non-admin users","status":"passed","title":"should deny action to non-admin users","duration":3.518699999999626,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Action - User Management"],"fullName":"Admin Users Route Integration Tests Action - User Management should reject action with missing userId","status":"passed","title":"should reject action with missing userId","duration":2.5564000000003944,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Action - User Management"],"fullName":"Admin Users Route Integration Tests Action - User Management should reject invalid action type","status":"passed","title":"should reject invalid action type","duration":2.2570999999998094,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin Users Route Integration Tests","Action - User Management"],"fullName":"Admin Users Route Integration Tests Action - User Management should handle database errors during deletion","status":"passed","title":"should handle database errors during deletion","duration":3.9956999999994878,"failureMessages":[],"meta":{}}],"startTime":1761580180403,"endTime":1761580180447.9956,"status":"failed","message":"","name":"C:/Repos/new-smell/test/integration/routes/admin/users.test.ts"},{"assertionResults":[{"ancestorTitles":["Perfume Loader API Integration Tests","Loader"],"fullName":"Perfume Loader API Integration Tests Loader should return perfumes matching the search name","status":"passed","title":"should return perfumes matching the search name","duration":2.1085000000002765,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Loader API Integration Tests","Loader"],"fullName":"Perfume Loader API Integration Tests Loader should return empty array when name parameter is missing","status":"passed","title":"should return empty array when name parameter is missing","duration":1.4320999999999913,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Loader API Integration Tests","Loader"],"fullName":"Perfume Loader API Integration Tests Loader should return empty array when no perfumes match","status":"passed","title":"should return empty array when no perfumes match","duration":1.954899999999725,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Loader API Integration Tests","Loader"],"fullName":"Perfume Loader API Integration Tests Loader should handle empty search results","status":"passed","title":"should handle empty search results","duration":1.061399999999594,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Loader API Integration Tests","Loader"],"fullName":"Perfume Loader API Integration Tests Loader should handle special characters in search query","status":"passed","title":"should handle special characters in search query","duration":1.3225000000002183,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Loader API Integration Tests","Loader"],"fullName":"Perfume Loader API Integration Tests Loader should handle database errors","status":"passed","title":"should handle database errors","duration":1.2507999999997992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Loader API Integration Tests","Loader"],"fullName":"Perfume Loader API Integration Tests Loader should handle URL parsing errors","status":"passed","title":"should handle URL parsing errors","duration":0.9472999999998137,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Loader API Integration Tests","Query Parameter Handling"],"fullName":"Perfume Loader API Integration Tests Query Parameter Handling should trim whitespace from search query","status":"passed","title":"should trim whitespace from search query","duration":2.316200000000208,"failureMessages":[],"meta":{}},{"ancestorTitles":["Perfume Loader API Integration Tests","Query Parameter Handling"],"fullName":"Perfume Loader API Integration Tests Query Parameter Handling should handle case-sensitive searches","status":"passed","title":"should handle case-sensitive searches","duration":3.19170000000031,"failureMessages":[],"meta":{}}],"startTime":1761580180508,"endTime":1761580180523.1917,"status":"passed","message":"","name":"C:/Repos/new-smell/test/integration/routes/api/perfumeLoader.test.ts"},{"assertionResults":[{"ancestorTitles":["Wishlist API Integration Tests","Action - Add to Wishlist"],"fullName":"Wishlist API Integration Tests Action - Add to Wishlist should add perfume to wishlist for authenticated user","status":"passed","title":"should add perfume to wishlist for authenticated user","duration":6.854199999999764,"failureMessages":[],"meta":{}},{"ancestorTitles":["Wishlist API Integration Tests","Action - Add to Wishlist"],"fullName":"Wishlist API Integration Tests Action - Add to Wishlist should return error when user is not authenticated","status":"passed","title":"should return error when user is not authenticated","duration":5.088599999999133,"failureMessages":[],"meta":{}},{"ancestorTitles":["Wishlist API Integration Tests","Action - Remove from Wishlist"],"fullName":"Wishlist API Integration Tests Action - Remove from Wishlist should remove perfume from wishlist for authenticated user","status":"passed","title":"should remove perfume from wishlist for authenticated user","duration":2.7424000000000888,"failureMessages":[],"meta":{}},{"ancestorTitles":["Wishlist API Integration Tests","Action - Update Visibility"],"fullName":"Wishlist API Integration Tests Action - Update Visibility should update wishlist item visibility","status":"passed","title":"should update wishlist item visibility","duration":2.8038000000005923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Wishlist API Integration Tests","Error Handling"],"fullName":"Wishlist API Integration Tests Error Handling should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":2.811700000000201,"failureMessages":[],"meta":{}}],"startTime":1761580180627,"endTime":1761580180647.8118,"status":"passed","message":"","name":"C:/Repos/new-smell/test/integration/routes/api/wishlist.test.ts"},{"assertionResults":[{"ancestorTitles":["SignIn Route Integration Tests","Action - User Authentication"],"fullName":"SignIn Route Integration Tests Action - User Authentication should successfully authenticate user with valid credentials","status":"failed","title":"should successfully authenticate user with valid credentials","duration":4.976999999998952,"failureMessages":["AssertionError: expected \"signInCustomer\" to be called at least once\n    at Proxy.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1326:10)\n    at Proxy.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1022:14)\n    at Proxy.methodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1618:25)\n    at C:\\Repos\\new-smell\\test\\integration\\routes\\login\\signin.test.ts:45:41\n    at file:///C:/Repos/new-smell/node_modules/@vitest/runner/dist/chunk-hooks.js:751:20"],"meta":{}},{"ancestorTitles":["SignIn Route Integration Tests","Action - User Authentication"],"fullName":"SignIn Route Integration Tests Action - User Authentication should reject authentication with invalid credentials","status":"passed","title":"should reject authentication with invalid credentials","duration":2.7968999999993684,"failureMessages":[],"meta":{}},{"ancestorTitles":["SignIn Route Integration Tests","Action - User Authentication"],"fullName":"SignIn Route Integration Tests Action - User Authentication should handle validation errors","status":"passed","title":"should handle validation errors","duration":1.1013999999995576,"failureMessages":[],"meta":{}},{"ancestorTitles":["SignIn Route Integration Tests","Action - User Authentication"],"fullName":"SignIn Route Integration Tests Action - User Authentication should handle authentication errors gracefully","status":"passed","title":"should handle authentication errors gracefully","duration":1.076999999999316,"failureMessages":[],"meta":{}}],"startTime":1761580180690,"endTime":1761580180700.077,"status":"failed","message":"","name":"C:/Repos/new-smell/test/integration/routes/login/signin.test.ts"},{"assertionResults":[{"ancestorTitles":["SignUp Route Integration Tests","Action - User Registration"],"fullName":"SignUp Route Integration Tests Action - User Registration should successfully register a new user with valid data","status":"failed","title":"should successfully register a new user with valid data","duration":13.236000000000786,"failureMessages":["AssertionError: expected \"getUserByName\" to be called with arguments: [ 'newuser@example.com' ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1346:10)\n    at Proxy.<anonymous> (file:///C:/Repos/new-smell/node_modules/@vitest/expect/dist/index.js:1022:14)\n    at Proxy.methodWrapper (file:///C:/Repos/new-smell/node_modules/chai/chai.js:1618:25)\n    at C:\\Repos\\new-smell\\test\\integration\\routes\\login\\signup.test.ts:50:40\n    at file:///C:/Repos/new-smell/node_modules/@vitest/runner/dist/chunk-hooks.js:751:20"],"meta":{}},{"ancestorTitles":["SignUp Route Integration Tests","Action - User Registration"],"fullName":"SignUp Route Integration Tests Action - User Registration should reject registration when email already exists","status":"failed","title":"should reject registration when email already exists","duration":10.105900000000474,"failureMessages":["AssertionError: expected { …(2) } to have property \"error\" with value 'Email already taken'\n    at C:\\Repos\\new-smell\\test\\integration\\routes\\login\\signup.test.ts:83:22\n    at file:///C:/Repos/new-smell/node_modules/@vitest/runner/dist/chunk-hooks.js:751:20"],"meta":{}},{"ancestorTitles":["SignUp Route Integration Tests","Action - User Registration"],"fullName":"SignUp Route Integration Tests Action - User Registration should handle validation errors","status":"passed","title":"should handle validation errors","duration":3.032199999999648,"failureMessages":[],"meta":{}}],"startTime":1761580180851,"endTime":1761580180877.0322,"status":"failed","message":"","name":"C:/Repos/new-smell/test/integration/routes/login/signup.test.ts"}]}